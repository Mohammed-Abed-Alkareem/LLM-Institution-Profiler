<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Institution Profiler - NLP Project</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap.min.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}"> 
  <link rel="stylesheet" href="{{ url_for('static', filename='css/autocomplete.css') }}">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>
  <div class="hero-section">
    <div class="container-fluid">
      <div class="row justify-content-center">
        <div class="col-12 col-lg-10 col-xl-8">
          
          <!-- Hero Header -->
          <div class="hero-header text-center mb-5">
            <div class="hero-icon mb-4">
              <div class="icon-wrapper">
                <i class="fas fa-university"></i>
              </div>
            </div>            <h1 class="hero-title mb-3">Institution Profiler</h1>
            <p class="hero-subtitle mb-4">
              Create comprehensive profiles of universities, hospitals, banks, and organizations using Large Language Models and web crawling techniques.
            </p>
            <div class="hero-stats d-flex justify-content-center gap-4 mb-4">
              <div class="stat-item">
                <div class="stat-number">96</div>
                <div class="stat-label">Data Fields</div>
              </div>
              <div class="stat-divider"></div>
              <div class="stat-item">
                <div class="stat-number">AI</div>
                <div class="stat-label">Powered</div>
              </div>
              <div class="stat-divider"></div>
              <div class="stat-item">
                <div class="stat-number">10-60s</div>
                <div class="stat-label">Analysis Time</div>
              </div>
            </div>
          </div>

          <!-- Main Search Card -->
          <div class="search-card">
            <form method="post" onsubmit="showLoadingIndicator()">              <!-- Search Input Section -->
              <div class="search-section mb-4">
                <div class="search-input-group autocomplete-input-container">
                  <div class="search-icon">
                    <i class="fas fa-search"></i>
                  </div>                  <input type="text" name="institution_name" id="institution_name" 
                         class="form-control search-input autocomplete-input" 
                         placeholder="Enter institution name: Birzeit University, Mayo Clinic, Goldman Sachs..." 
                         required="" autocomplete="off">
                  <button type="submit" class="btn btn-primary search-btn">
                    <i class="fas fa-arrow-right me-1"></i>Generate Profile
                  </button>
                </div>
              </div>

              <!-- Quick Examples -->              <div class="examples-section mb-4">
                <div class="text-center mb-3">
                  <small class="text-muted">Try these sample institutions:</small>
                </div>
                <div class="examples-grid">
                  <button type="button" class="example-btn" data-example="Birzeit University">
                    <i class="fas fa-graduation-cap me-2"></i>Birzeit University
                  </button>
                  <button type="button" class="example-btn" data-example="Mayo Clinic">
                    <i class="fas fa-hospital me-2"></i>Mayo Clinic
                  </button>
                  <button type="button" class="example-btn" data-example="Goldman Sachs">
                    <i class="fas fa-building me-2"></i>Goldman Sachs
                  </button>
                  <button type="button" class="example-btn" data-example="World Health Organization">
                    <i class="fas fa-globe me-2"></i>WHO
                  </button>
                </div>
              </div>

              <!-- Advanced Options Toggle -->
              <div class="advanced-toggle-section text-center">
                <button type="button" class="btn btn-outline-secondary advanced-toggle" id="toggle-additional-info">
                  <i class="fas fa-sliders-h me-2" id="toggle-icon"></i>
                  <span id="toggle-text">Advanced Search Options</span>
                </button>
              </div>

      <!-- Additional search parameters (hidden by default) -->
      <div id="additional-info-panel" class="collapse">
        <div class="card border-0 bg-light">
          <div class="card-body">
            <h6 class="card-title text-muted mb-3">
              <i class="fas fa-filter me-2"></i>Search Refinement Options
            </h6>
            <div class="row g-3">
              <div class="col-md-4">
                <label for="institution_type" class="form-label">Institution Type</label>
                <input type="text" name="institution_type" id="institution_type" class="form-control" 
                       placeholder="e.g., university, hospital, bank">
                <div class="form-text">Helps focus the search (auto-detected if empty)</div>
              </div>
              <div class="col-md-4">
                <label for="location" class="form-label">Location</label>
                <input type="text" name="location" id="location" class="form-control" 
                       placeholder="e.g., Boston, California, UK">
                <div class="form-text">City, state, country, or region</div>
              </div>
              <div class="col-md-4">
                <label for="additional_keywords" class="form-label">Additional Keywords</label>
                <input type="text" name="additional_keywords" id="additional_keywords" class="form-control" 
                       placeholder="e.g., research, teaching, medical">
                <div class="form-text">Specific terms to include in search</div>
              </div>
            </div>
            <div class="row g-3 mt-2">
              <div class="col-md-6">
                <label for="domain_hint" class="form-label">Domain Hint</label>
                <input type="text" name="domain_hint" id="domain_hint" class="form-control" 
                       placeholder="e.g., mit.edu, mayo.org">
                <div class="form-text">If you know part of the website domain</div>
              </div>
              <div class="col-md-6">
                <label for="exclude_terms" class="form-label">Exclude Terms</label>
                <input type="text" name="exclude_terms" id="exclude_terms" class="form-control" 
                       placeholder="e.g., jobs, admissions, news">
                <div class="form-text">Terms to exclude from search results</div>
              </div>
            </div>
          </div>
        </div>
      </div>
            </form>
          </div>

          <!-- Features Section -->          <div class="features-section mt-5">
            <div class="row g-4">
              <div class="col-md-4">
                <div class="feature-card">
                  <div class="feature-icon">
                    <i class="fas fa-brain"></i>
                  </div>
                  <h5 class="feature-title">NLP-Powered Analysis</h5>
                  <p class="feature-description">
                    Large Language Models extract and structure institutional data from web sources automatically.
                  </p>
                </div>
              </div>
              <div class="col-md-4">
                <div class="feature-card">
                  <div class="feature-icon">
                    <i class="fas fa-chart-line"></i>
                  </div>
                  <h5 class="feature-title">Comprehensive Profiles</h5>
                  <p class="feature-description">
                    Automated web crawling and structured data extraction to generate detailed institutional profiles.
                  </p>
                </div>
              </div>
              <div class="col-md-4">
                <div class="feature-card">
                  <div class="feature-icon">
                    <i class="fas fa-clock"></i>
                  </div>
                  <h5 class="feature-title">Intelligent Processing</h5>
                  <p class="feature-description">
                    Advanced information extraction and profile generation from multiple institutional data sources.
                  </p>
                </div>
              </div>
            </div>
          </div>

        </div>
      </div>
    </div>
  </div>  </div>

  <!-- Loading Overlay -->
  <div id="loading-overlay" style="display: none;">
    <div class="loading-content">
      <div class="loading-spinner">
        <div class="spinner-border text-primary mb-3" role="status">
          <span class="visually-hidden">Loading...</span>
        </div>
      </div>      <h5 class="loading-title">Generating Institution Profile</h5>
      <div class="loading-steps">
        <div class="step" data-step="search">
          <i class="fas fa-search step-icon"></i>
          <span class="step-text">Searching for institution information...</span>
        </div>
        <div class="step" data-step="crawl">
          <i class="fas fa-spider step-icon"></i>
          <span class="step-text">Crawling institutional websites...</span>
        </div>
        <div class="step" data-step="extract">
          <i class="fas fa-brain step-icon"></i>
          <span class="step-text">Processing data with NLP models...</span>
        </div>
      </div>
      <p class="loading-note text-muted mt-3">
        This process typically takes 10-30 seconds depending on the institution's web presence.
      </p>
    </div>
  </div>    {% if institution_data_str %}
    <div id="results-area" class="alert alert-info mt-4">
      {% if 'Please enter an institution name.' not in institution_data_str and request.form.get('institution_name') %}
      You searched for: <strong>{{ request.form.get('institution_name') }}</strong>
      {% if request.form.get('institution_type') %}
      (Type: <strong>{{ request.form.get('institution_type') }}</strong>)
      {% endif %}
      <hr>
      <h5>Processed Data:</h5>
      {% endif %}
      <pre>{{ institution_data_str }}</pre>
    </div>
    {% endif %}

  <script src="{{ url_for('static', filename='js/bootstrap.bundle.min.js') }}"></script>
  <script src="{{ url_for('static', filename='js/main.js') }}"></script>
  <script src="{{ url_for('static', filename='js/autocomplete-widget.js') }}"></script>
  <script src="{{ url_for('static', filename='js/autocomplete-init.js') }}"></script>
  
  <script>
    // Handle example button clicks
    document.querySelectorAll('.example-btn').forEach(btn => {
      btn.addEventListener('click', function() {
        document.getElementById('institution_name').value = this.dataset.example;
        this.classList.add('selected');
        setTimeout(() => this.classList.remove('selected'), 200);
      });
    });
  </script>
</body>

</html>